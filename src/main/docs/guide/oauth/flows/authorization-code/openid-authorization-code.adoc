Adding support for authorization code flow with an OpenID provider is extremely easy with Micronaut.

Here is a high level diagram of how the authorization code grant flow works with an OpenID provider.

image::openid-oauth.svg[]

[source,yaml]
.src/main/resources/application.yml
----
micronaut:
    security:
        enabled: true
        oauth2:
            enabled: true
            clients:
                okta: // <1>
                    client-id: <<my client id>> // <2>
                    client-secret: <<my client secret>>  // <3>
                    openid:
                        issuer: <<my openid issuer>> // <4>
----

<1> Configure a client. The name here is arbitrary
<2> The client id
<3> The client secret
<4> The OpenID provider issuer

The issuer URL will be used to discover the endpoints exposed by the provider. It is possible to configure the service discovery endpoint path as well as override several parts of the configuration that is returned. See the configuration reference for all options.

